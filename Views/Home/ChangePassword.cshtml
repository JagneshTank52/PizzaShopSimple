
@using PizzaShop.Entity.ViewModels.HomeVM

@{
    ViewData["Title"] = "Change Password";
    Layout = "_Layout";
}
@model ChangePasswordVM;

<section class="main-section flex-grow-1 py-3 px-4">

    <!-- mani section navbar -->
    <div class="top-navbar d-flex justify-content-between mb-3">

        <!-- left-navbar -->
        <div class="navbar-left d-flex">
            <P class="mb-0 fs-3 fw-bold">Change Password</P>
        </div>
    </div>

    <form method="post" asp-controller="Home" asp-action="ChangePassword">
        <div class="row-col-1 change-password-container">

        <div class="col mb-3">
            <div id="current-password-info  " class="form-text mb-3">
                Enter a new password to update your account creadentials.
            </div>
    
            <div class="form-floating">
                <input type="password" class="form-control" id="current-password" placeholder="Password" asp-for="CurrentPassword">
                <label for="current-password">Current Passsword*</label>
                <i class="bi bi-eye login-icons" id="togglePassword-current" style="font-size: 25px;"></i>
                <span asp-validation-for="CurrentPassword" class="text-danger"></span>
    
            </div>
        </div>
        <div class="col mb-3">
            <div class="form-floating">
                <input type="password" class="form-control" id="new-password" placeholder="Password" asp-for="NewPassword">
                <label for="new-password">New Password*</label>
                <i class="bi bi-eye login-icons" id="togglePassword-new" style="font-size: 25px;"></i>
                <span asp-validation-for="NewPassword" class="text-danger"></span>
            </div>
        </div>
        <div class="col mb-3">
            <div class="form-floating">
                <input type="password" class="form-control" id="confirm-password" placeholder="Password" asp-for="ConfirmPassword">
                <label for="confirm-password">Confirm New Password*</label>
                <i class="bi bi-eye login-icons" id="togglePassword-confirm" style="font-size: 25px;"></i>
                <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
            </div>
        </div>
        <div class="col mb-3">
            <div class="d-grid d-sm-block" style="gap: 10px;">
                    <button class="btn btn-primary" type="submit">
                        Submit</button>
                    <button class="btn outline-btn" type="button" onclick="goBack()">Cancel</button>
                </div>
        </div>

    </div>
    </form>


</section>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function () {
        $("#togglePassword-current").click(function () {
            var passwordInput = $("#current-password");
            var eyeIcon = $("#togglePassword-current");

            if (passwordInput.attr("type") === "password") {
                passwordInput.attr("type", "text"); // Show password
                eyeIcon.removeClass("bi-eye");
                eyeIcon.addClass("bi-eye-slash");
            } else {
                passwordInput.attr("type", "password"); // Hide password
                eyeIcon.removeClass("bi-eye-slash"); // Change back to show icon
                eyeIcon.addClass("bi-eye");
            }
        });

        $("#togglePassword-new").click(function () {
            var passwordInput = $("#new-password");
            var eyeIcon = $("#togglePassword-new");

            if (passwordInput.attr("type") === "password") {
                passwordInput.attr("type", "text"); // Show password
                eyeIcon.removeClass("bi-eye");
                eyeIcon.addClass("bi-eye-slash");
            } else {
                passwordInput.attr("type", "password"); // Hide password
                eyeIcon.removeClass("bi-eye-slash"); // Change back to show icon
                eyeIcon.addClass("bi-eye");
            }
        });

        $("#togglePassword-confirm").click(function () {
            var passwordInput = $("#confirm-password");
            var eyeIcon = $("#togglePassword-confirm");

            if (passwordInput.attr("type") === "password") {
                passwordInput.attr("type", "text"); // Show password
                eyeIcon.removeClass("bi-eye");
                eyeIcon.addClass("bi-eye-slash");
            } else {
                passwordInput.attr("type", "password"); // Hide password
                eyeIcon.removeClass("bi-eye-slash"); // Change back to show icon
                eyeIcon.addClass("bi-eye");
            }
        });

    });

    function goBack() {
        window.history.back();
    }
</script>
@section Scripts{
        @{
            <partial name="_ValidationScriptsPartial"></partial>
        }
    }